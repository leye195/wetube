extends ./layouts/main.pug
include partial/mixins/videoPlayer
include partial/mixins/comment

block content
    .video-detail__container
        +videoPlayer({
            src:`/${video.fileUrl}`
        })
        .video__info
            if loggedUser
                if loggedUser.id === video.creator.id 
                    a(href=routes.editVideo(video._id)) 
                        button Edit Video
            h1.video__title=video.title
            .video__prim
                if video.view===1
                    span.video__view=`1 view`
                else
                    span.video__view=`${video.view} views`
                div.video__menu
                    button.video__up
                        i.far.fa-thumbs-up
                    button.video__down
                        i.far.fa-thumbs-down
            p.video__description=video.description
        .video__author
            | Uploaded By 
            a(href=routes.userDetail(video.creator._id))=video.creator.name
        .video__comment
            if video.comments.length===1
                span.video__comment-number 1 comment
            else    
                span.video__comment-number #{video.comments.length} comments
            .form-container
                    form.add__comment
                        input.leavecomment(type="text",name="comment",placeholder="Add a comment")
            .comments__container
                each comment in video.comments.reverse()
                    +comment(comment)

                

                
                